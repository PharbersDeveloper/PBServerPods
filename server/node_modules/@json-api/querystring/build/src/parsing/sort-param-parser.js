"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const parser = require("./parser");
const finalizeFieldExpression_1 = require("./finalizeFieldExpression");
function parse(sortOperators, sortVal) {
    return parser
        .parse(sortVal, { startRule: "Sort" })
        .map(function (sortField) {
        if (!("expression" in sortField)) {
            return sortField;
        }
        return Object.assign({}, sortField, { expression: finalizeFieldExpression_1.default(sortOperators, sortField.expression) });
    });
}
exports.default = parse;
